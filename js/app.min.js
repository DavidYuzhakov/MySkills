(()=>{"use strict";const e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}},t=document.querySelectorAll("._anim-items");t.length>0&&document.addEventListener("DOMContentLoaded",(()=>{setTimeout((()=>{t.forEach((e=>{new IntersectionObserver((([e])=>{e.isIntersecting?e.target.classList.add("_active"):e.target.classList.contains("_anim-no-hide")||e.target.classList.remove("_active")}),{}).observe(e)}))}),300)}));let o=document.getElementsByClassName("rain")[0];if(o){o.width=window.innerWidth,o.height=window.innerHeight;let m=o.getContext("2d");function v(e,t){return Math.floor(Math.random()*e)+t}function _(e,t,o,n,s){this.x=e,this.y=t,this.endy=o,this.velocity=n,this.opacity=s,this.draw=function(){m.beginPath(),m.moveTo(this.x,this.y),m.lineTo(this.x,this.y-this.endy),m.lineWidth=1,m.strokeStyle="rgba(255, 255, 255, "+this.opacity+")",m.stroke()},this.update=function(){let e=window.innerHeight+100;this.y>=e?this.y=this.endy-100:this.y=this.y+this.velocity,this.draw()}}let g=[];for(let w=0;w<140;w++){let f=Math.floor(Math.random()*window.innerWidth)+1,p=-500*Math.random(),S=v(10,2),b=v(10,.2),L=.55*Math.random();g.push(new _(f,p,S,b,L))}function y(){requestAnimationFrame(y),m.clearRect(0,0,window.innerWidth,window.innerHeight);for(let e=0;e<g.length;e++)g[e].update()}y()}const n=document.querySelector(".drag-effect_1");if(n){const N=n.querySelectorAll(".drag__item");if(N.length>0){for(const A of N)A.draggable=!0;n.addEventListener("dragstart",(e=>{e.target.classList.add("selected")})),n.addEventListener("dragend",(e=>{e.target.classList.remove("selected")})),n.addEventListener("dragenter",(e=>{e.preventDefault();const t=n.querySelector(".selected"),o=e.target;if(t!==o&&o.classList.contains("drag__item")&&document.querySelector(".selected")){const e=o===t.nextElementSibling?o.nextElementSibling:o;if(e&&t===e.previousElementSibling||t===e)return;n.insertBefore(t,e)}}))}}const s=document.querySelector(".drag-effect__item"),i=document.querySelectorAll(".drag-effect__placeholder");if(s){s.addEventListener("dragstart",q),s.addEventListener("dragend",E);for(const I of i)I.addEventListener("dragover",(e=>{e.preventDefault()})),I.addEventListener("dragenter",(e=>{document.querySelector(".hold")&&e.target.classList.add("hovered")})),I.addEventListener("dragleave",(e=>{e.target.classList.remove("hovered")})),I.addEventListener("drop",(e=>{document.querySelector(".hold")&&(e.target.classList.remove("hovered"),e.target.append(s))}));function q(e){e.target.classList.add("hold"),setTimeout((()=>{e.target.classList.add("hide")}),0)}function E(e){e.target.classList.remove("hold","hide")}}const r=document.querySelector(".modal"),d=document.querySelectorAll("[data-open]");if(r){function k(e){const t=e.target.closest("[data-open]");t&&(document.querySelector(".modal__img").innerHTML=`<img src="img/cards/${t.dataset.open}.jpg">`),r.classList.add("_open"),document.body.classList.add("_lock")}r.addEventListener("click",(e=>{e.target.closest(".modal__img")||(r.classList.remove("_open"),document.body.classList.remove("_lock"))})),d.length>0&&d.forEach((e=>{e.addEventListener("click",k)}))}class a{constructor(e,{onNoteSelect:t,onNoteAdd:o,onNoteEdit:n,onNoteDelete:s}={}){this.root=e,this.onNoteSelect=t,this.onNoteAdd=o,this.onNoteEdit=n,this.onNoteDelete=s,this.root.innerHTML='\n            <div class="notes__sidebar">\n                <button class="notes__add" type="button">Add Note</button>\n                <div class="notes__list"></div>\n            </div>\n            <div class="notes__preview">\n                <div class="fa-solid fa-arrow-left notes__arrow"></div>\n                <input class="notes__title" type="text" placeholder="New Note...">\n                <textarea class="notes__body" placeholder="Enter a text">Take note...</textarea>\n            </div>\n        ';const i=this.root.querySelector(".notes__add"),r=this.root.querySelector(".notes__title"),d=this.root.querySelector(".notes__body");i&&i.addEventListener("click",(()=>{this.onNoteAdd()})),[r,d].forEach((e=>{e.addEventListener("blur",(()=>{const e=r.value.trim(),t=d.value.trim();this.onNoteEdit(e,t)}))})),this.updateNotePreviewVisibility(!1)}_createListItem(e,t,o,n){return`\n            <div class="notes__list-item" title="Double click to delete the note" data-note-id="${e}">\n                <div class="notes__small-title">${t}</div>\n                <div class="notes__small-body">\n                    ${o.substring(0,60)}\n                    ${o.length>60?"...":""}\n                </div>\n                <div class="notes__small-updated">\n                    ${n.toLocaleString(void 0,{dateStyle:"short",timeStyle:"short"})}\n                </div>\n                <div class="notes__edit" data-note-id="${e}">\n                    <button class="fa-solid fa-trash notes__delete" type="button"></button>\n                </div>\n            </div>\n        `}updateNotesList(e){const t=this.root.querySelector(".notes__list");t.innerHTML="";for(const{body:o,id:n,title:s,updated:i}of e){const e=this._createListItem(n,s,o,new Date(i));t.insertAdjacentHTML("beforeend",e)}const o=t.querySelectorAll(".notes__list-item");o.length>0&&o.forEach((e=>{this.root.addEventListener("click",(e=>{let t=e.target;t.closest(".notes__list-item")&&t.closest(".notes__edit")?this.onNoteDelete(t.closest(".notes__list-item").dataset.noteId):t.closest(".notes__list-item")&&(this.root.querySelector(".notes__preview").style.display="block",this.onNoteSelect(t.closest(".notes__list-item").dataset.noteId))})),e.addEventListener("dblclick",(()=>{confirm("Are you sure to delete the note ?")&&this.onNoteDelete(e.dataset.noteId)}))}))}updateActiveNotes(e){this.root.querySelector(".notes__title").value=e.title,this.root.querySelector(".notes__body").value=e.body,this.root.querySelectorAll(".notes__list-item").forEach((e=>{e.classList.remove("notes__list-item--selected")})),this.root.querySelector(`.notes__list-item[data-note-id="${e.id}"`).classList.add("notes__list-item--selected")}updateNotePreviewVisibility(e){this.root.querySelector(".notes__preview").style.visibility=e?"visible":"hidden"}}class l{static getAllNotes(){return JSON.parse(localStorage.getItem("notesapp-notes")||"[]").sort(((e,t)=>new Date(e.updated)>new Date(t.updated)?-1:1))}static saveNote(e){const t=l.getAllNotes(),o=t.find((t=>t.id==e.id));o?(o.title=e.title,o.body=e.body,o.updated=(new Date).toISOString()):(e.id=Math.floor(1e6*Math.random()),e.updated=(new Date).toISOString(),t.push(e)),localStorage.setItem("notesapp-notes",JSON.stringify(t))}static deleteNote(e){const t=l.getAllNotes().filter((t=>t.id!=e));localStorage.setItem("notesapp-notes",JSON.stringify(t))}}const c=document.getElementById("app");new class{constructor(e){this.notes=[],this.activeNote=null,this.view=new a(e,this._handlers()),this._refreshNotes()}_refreshNotes(){const e=l.getAllNotes();this._setNotes(e),e.length>0&&this._setActiveNote(e[0])}_setNotes(e){this.notes=e,this.view.updateNotesList(e),this.view.updateNotePreviewVisibility(e.length>0)}_setActiveNote(e){this.activeNote=e,this.view.updateActiveNotes(e)}_handlers(){return{onNoteSelect:e=>{const t=this.notes.find((t=>e==t.id));this._setActiveNote(t)},onNoteAdd:()=>{l.saveNote({title:"New Note",body:"Take note..."}),this._refreshNotes()},onNoteEdit:(e,t)=>{l.saveNote({id:this.activeNote.id,title:e,body:t}),this._refreshNotes()},onNoteDelete:e=>{l.deleteNote(e),this._refreshNotes()}}}}(c),function(e){let t=new Image;t.onload=t.onerror=function(){1==(2==t.height)?document.querySelector("html").classList.add("webp"):document.querySelector("html").classList.add("no-webp")},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),document.querySelectorAll("._ibg").forEach((e=>{e.querySelector("img")&&(e.style.backgroundImage="url("+e.querySelector("img").getAttribute("src")+")")}));const u=document.querySelector(".intro"),h=document.querySelector(".drag");document.addEventListener("DOMContentLoaded",(function(){if(u){window.innerWidth>768&&!e.any()&&u.addEventListener("mousemove",(e=>{Object.assign(document.documentElement,{style:`\n                    --move-x: ${-.0059*(e.clientX-window.innerWidth/2)}deg;\n                    --move-y: ${.019*(e.clientY-window.innerHeight/2)}deg;\n                    `})}));const A=document.querySelector(".intro-2"),q=document.querySelector(".intro-3"),E=document.querySelector(".intro-5"),I=document.querySelector(".intro-6");let k=[];for(let B=0;B<1;B+=.005)k.push(B);function M(e){let t=1+e/-100;q.style.translate=`0 ${e/5}%`,q.style.opacity=`${t}`,A.style.translate=`0 ${e/7}%`,E.style.translate=`0 ${e/3}%`,I.style.translate=`0 ${e/7}%`}new IntersectionObserver(((e,t)=>{M(window.scrollY/u.offsetHeight*100)}),{threshold:k}).observe(document.querySelector(".main"))}h&&e.any()&&(document.querySelector(".drag__main").innerHTML='\n                <div class="drag-error">Sorry, but the drag & drop effect doesn\'t work on mobile devices :-(</div>\n            ');const t=document.querySelector(".header"),o=new IntersectionObserver((([e])=>{e.isIntersecting?t.classList.remove("_scroll"):t.classList.add("_scroll")}));t&&o.observe(t);const n=document.querySelectorAll("[data-goto]"),s=document.querySelector(".menu-icon");if(s&&s.addEventListener("click",(()=>{s.classList.toggle("_active"),document.body.classList.toggle("_lock"),document.querySelector(".menu__body").classList.toggle("_active")})),n.length>0){function $(e){const t=e.target;if(t.dataset.goto&&document.querySelector(t.dataset.goto)){const o=document.querySelector(t.dataset.goto).getBoundingClientRect().top+scrollY-document.querySelector(".header__body").offsetHeight;s.classList.contains("_active")&&(s.classList.remove("_active"),document.body.classList.remove("_lock"),document.querySelector(".menu__body").classList.remove("_active")),window.scrollTo({top:o,behavior:"smooth"}),e.preventDefault()}}n.forEach((e=>{e.addEventListener("click",$)}))}const i=(new Date).getFullYear(),r=new Date(`Jan 1 ${i+1} 00:00:00`);function d(){const e=new Date,t=r-e,o=Math.floor(t/1e3/60/60/24),n=Math.floor(t/1e3/60/60)%24,s=Math.floor(t/1e3/60)%60,i=Math.floor(t/1e3)%60;document.getElementById("d")&&(document.getElementById("d").innerText=o,document.getElementById("h").innerText=n<10?"0"+n:n,document.getElementById("m").innerText=s<10?"0"+s:s,document.getElementById("s").innerText=i<10?"0"+i:i)}const a=document.querySelector(".timer");let l;const c=new IntersectionObserver((([e])=>{e.isIntersecting?l=setInterval(d,1e3):clearInterval(l)}),{});a&&c.observe(a);const m=document.querySelector(".cards-content"),v=new Swiper(".cards-slider",{parallax:!0,freeMode:!0,centeredSlides:!0,mousewheel:!0,breakpoints:{0:{slidesPerView:1.5,spaceBetween:20,centeredSlides:!1},480:{centeredSlides:!1,slidesPerView:2.5,spaceBetween:30},768:{slidesPerView:3,spaceBetween:40,centeredSlides:!1},991:{centeredSlides:!0},1200:{slidesPerView:3.5,spaceBetween:60}}}),_=new Swiper(".cards-slider-bg",{mousewheel:!1,parallax:!0,centeredSlides:!0,spaceBetween:60,slidesPerView:3.5});v.controller.control=_,e&&v.on("slideChange",(()=>{v.activeIndex>0?m.classList.add("_hide"):m.classList.remove("_hide")}));const g=document.getElementById("toggle-btn"),y=document.body;let w=localStorage.getItem("dark-mode");if(g){const x=()=>{g.classList.replace("fa-sun","fa-moon"),y.classList.add("_dark"),localStorage.setItem("dark-mode","enabled")},D=()=>{g.classList.replace("fa-moon","fa-sun"),y.classList.remove("_dark"),localStorage.setItem("dark-mode","disabled")};"enabled"===w?x():D(),g.addEventListener("click",(e=>{w=localStorage.getItem("dark-mode"),"disabled"===w?x():D()}))}const f=document.querySelector(".notes__arrow");f&&f.addEventListener("click",(()=>{document.querySelector(".notes__preview").style.display="none"}));const p=document.querySelector(".weather__form"),S=document.getElementById("weather-main");let b="London";const L=async()=>{let e=`https://api.openweathermap.org/data/2.5/weather?q=${b}&appid=11d6338a238e52cbc944d2c14cd6df29`;try{const t=await fetch(e),o=await t.json();p.addEventListener("submit",N),S.innerHTML='\n                <div class="weather__loading">\n                    <img src="img/load.webp" alt="loading">\n                </div>\n            ',S.innerHTML=function(e){const{name:t,main:{feels_like:o,temp:n,humidity:s},wind:{speed:i},weather:[{icon:r,description:d}]}=e;return`\n            <div class="weather__head">\n                <h3 class="weather__city">${t}</h3>\n            </div>\n            <div class="weather__info">\n                <div class="weather__temp">${Math.round(n-273)}&deg;</div>\n                <div class="weather__desc">\n                    <div class="weather__icon">\n                        <img src="https://openweathermap.org/img/w/${r}.png" alt="icon">\n                    </div>\n                    <div class="weather__text">${d}</div>\n                </div>\n            </div>\n            <div class="weather__params">\n                <div class="weather__property" id="humidity">\n                    Humidity: ${s}%\n                </div>\n                <div class="weather__property" id="feels">\n                    Feels like: ${Math.round(o-273)}&deg;\n                </div>\n                <div class="weather__property" id="wind">\n                    Wind speed: ${Math.round(i)}m/s\n                </div>\n            </div>\n        `}(o)}catch(e){console.warn(e)}};function N(e){const t=document.querySelector(".weather__input");e.preventDefault(),t.value.length>0?(b=t.value,L()):t.style.border="2px solid rgb(219 49 49)"}L()}))})();